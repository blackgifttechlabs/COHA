<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>COHA - Circle of Hope Academy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap" rel="stylesheet">
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['"Open Sans"', 'sans-serif'],
              pacifico: ['"Pacifico"', 'cursive'],
              archivo: ['"Archivo Black"', 'sans-serif'],
              mono: ['monospace'],
            },
            colors: {
              coha: {
                900: '#001d64',
                800: '#002473',
                700: '#003083',
                500: '#006abc',
                400: '#0098f1',
              }
            }
          },
        },
      }
    </script>
    <style>
      body {
        background-color: #f8f9fa;
      }
      /* Enforcing M3-like perfect corners globally */
      * {
        border-radius: 0px !important;
      }
      
      /* Animated Tick CSS */
      @keyframes drawTick {
        to { stroke-dashoffset: 0; }
      }
      .animate-draw-tick {
        stroke-dasharray: 100;
        stroke-dashoffset: 100;
        animation: drawTick 0.8s ease-out forwards;
      }

      /* Hover Pop animation for buttons */
      .hover-pop {
        transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.2s;
      }
      .hover-pop:hover {
        transform: scale(1.05) translateY(-2px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      }

      /* Hero Animations */
      .perspective-container {
        perspective: 2000px;
        overflow: hidden;
      }

      .book-page-flip {
        transform-origin: left center;
        animation: pageFlip 2s cubic-bezier(0.645, 0.045, 0.355, 1) forwards;
        backface-visibility: hidden;
        z-index: 20;
      }

      @keyframes pageFlip {
        0% { transform: rotateY(0deg); }
        100% { transform: rotateY(-110deg); }
      }

      /* Cinematic Text Reveal */
      .cinematic-reveal {
        opacity: 0;
        animation: cinematicIn 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
      }

      @keyframes cinematicIn {
        0% {
          opacity: 0;
          transform: translateY(40px) scale(1.1);
          filter: blur(10px);
        }
        100% {
          opacity: 1;
          transform: translateY(0) scale(1);
          filter: blur(0);
        }
      }

      .fade-in-up-delay-1 {
        opacity: 0;
        animation: fadeInUp 0.8s ease-out 0.5s forwards;
      }
      .fade-in-up-delay-2 {
        opacity: 0;
        animation: fadeInUp 0.8s ease-out 0.8s forwards;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* --- UIVERSE BUTTON STYLES --- */
      .uiverse-button {
        --radius: 18px;
        border-radius: var(--radius);
        outline: none;
        cursor: pointer;
        font-size: 20px;
        font-family: 'Archivo Black', sans-serif;
        background: transparent;
        letter-spacing: -1px;
        border: 0;
        position: relative;
        width: 220px;
        height: 80px;
        z-index: 50;
      }

      .uiverse-button.apply-theme {
        --white: #ffe7ff;
        --c-100: #f4b1fd;
        --c-200: #d190ff;
        --c-300: #c389f2;
        --c-400: #8e26e2;
        --c-500: #5e2b83;
      }

      .uiverse-button.portal-theme {
        --white: #e0f2fe;
        --c-100: #bae6fd;
        --c-200: #7dd3fc;
        --c-300: #38bdf8;
        --c-400: #0284c7;
        --c-500: #001d64; 
      }

      .uiverse-bg {
        position: absolute;
        inset: 0;
        border-radius: inherit;
        filter: blur(1px);
      }
      .uiverse-bg::before,
      .uiverse-bg::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: calc(var(--radius) * 1.1);
        background: var(--c-500);
      }
      .uiverse-bg::before {
        filter: blur(5px);
        transition: all 0.3s ease;
        box-shadow:
          -7px 6px 0 0 rgba(0, 0, 0, 0.4),
          -14px 12px 0 0 rgba(0, 0, 0, 0.3),
          -21px 18px 4px 0 rgba(0, 0, 0, 0.25);
      }

      .uiverse-wrap {
        border-radius: inherit;
        overflow: hidden;
        height: 100%;
        transform: translate(6px, -6px);
        padding: 3px;
        background: linear-gradient(
          to bottom,
          var(--c-100) 0%,
          var(--c-400) 100%
        );
        position: relative;
        transition: all 0.3s ease;
      }

      .uiverse-outline {
        position: absolute;
        overflow: hidden;
        inset: 0;
        opacity: 0;
        outline: none;
        border-radius: inherit;
        transition: all 0.4s ease;
      }
      .uiverse-outline::before {
        content: "";
        position: absolute;
        inset: 2px;
        width: 120px;
        height: 300px;
        margin: auto;
        background: linear-gradient(
          to right,
          transparent 0%,
          white 50%,
          transparent 100%
        );
        animation: uiverse-spin 3s linear infinite;
        animation-play-state: paused;
      }

      .uiverse-content {
        pointer-events: none;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1;
        position: relative;
        height: 100%;
        gap: 10px;
        border-radius: calc(var(--radius) * 0.85);
        font-weight: 600;
        transition: all 0.3s ease;
        background: linear-gradient(
          to bottom,
          var(--c-300) 0%,
          var(--c-400) 100%
        );
        box-shadow:
          inset -2px 12px 11px -5px var(--c-200),
          inset 1px -3px 11px 0px rgb(0 0 0 / 35%);
      }
      .uiverse-content::before {
        content: "";
        inset: 0;
        position: absolute;
        z-index: 10;
        width: 80%;
        top: 45%;
        bottom: 35%;
        opacity: 0.7;
        margin: auto;
        background: linear-gradient(to bottom, transparent, var(--c-400));
        filter: brightness(1.3) blur(5px);
      }

      .uiverse-char {
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .uiverse-char span {
        display: block;
        color: transparent;
        position: relative;
        font-size: 18px;
      }
      .uiverse-char span:nth-child(5) {
        margin-left: 5px;
      }
      .uiverse-char.state-1 span:nth-child(5) {
        margin-right: -3px;
      }
      .uiverse-char.state-1 span {
        animation: uiverse-charAppear 1.2s ease backwards calc(var(--i) * 0.03s);
      }
      .uiverse-char.state-1 span::before,
      .uiverse-char span::after {
        content: attr(data-label);
        position: absolute;
        color: var(--white);
        text-shadow: -1px 1px 2px var(--c-500);
        left: 0;
      }
      .uiverse-char span::before {
        opacity: 0;
        transform: translateY(-100%);
      }
      .uiverse-char.state-2 {
        position: absolute;
        left: 0;
        right: 0;
        margin: auto;
      }
      .uiverse-char.state-2 span::after {
        opacity: 0;
      }

      .uiverse-icon {
        animation: uiverse-resetArrow 0.8s cubic-bezier(0.7, -0.5, 0.3, 1.2) forwards;
        z-index: 10;
      }
      .uiverse-icon div,
      .uiverse-icon div::before,
      .uiverse-icon div::after {
        height: 3px;
        border-radius: 1px;
        background-color: var(--white);
      }
      .uiverse-icon div::before,
      .uiverse-icon div::after {
        content: "";
        position: absolute;
        right: 0;
        transform-origin: center right;
        width: 14px;
        border-radius: 15px;
        transition: all 0.3s ease;
      }
      .uiverse-icon div {
        position: relative;
        width: 24px;
        box-shadow: -2px 2px 5px var(--c-400);
        transform: scale(0.9);
        background: linear-gradient(to bottom, var(--white), var(--c-100));
        animation: uiverse-swingArrow 1s ease-in-out infinite;
        animation-play-state: paused;
      }
      .uiverse-icon div::before {
        transform: rotate(44deg);
        top: 1px;
        box-shadow: 1px -2px 3px -1px var(--c-400);
        animation: uiverse-rotateArrowLine 1s linear infinite;
        animation-play-state: paused;
      }
      .uiverse-icon div::after {
        bottom: 1px;
        transform: rotate(316deg);
        box-shadow: -2px 2px 3px 0 var(--c-400);
        background: linear-gradient(200deg, var(--white), var(--c-100));
        animation: uiverse-rotateArrowLine2 1s linear infinite;
        animation-play-state: paused;
      }

      /* UIVERSE ANIMATION HOVER STATES */
      .uiverse-button:hover .uiverse-outline {
        opacity: 1;
      }
      .uiverse-button:hover .uiverse-outline::before {
        animation-play-state: running;
      }
      .uiverse-button:hover .uiverse-content {
        box-shadow: inset -2px 12px 11px -5px var(--c-200), inset 1px -3px 11px 0px rgb(0 0 0 / 35%);
      }
      .uiverse-button:hover .uiverse-char.state-1 span {
        animation: none;
        opacity: 0;
        transform: translateY(-150%);
        transition: all 0.3s ease;
      }
      .uiverse-button:hover .uiverse-char.state-2 span::after {
        opacity: 1;
        transition: opacity 0.3s ease 0.1s;
      }
      .uiverse-button:hover .uiverse-icon div {
        animation-play-state: running;
      }
      .uiverse-button:hover .uiverse-icon div::before {
        animation-play-state: running;
      }
      .uiverse-button:hover .uiverse-icon div::after {
        animation-play-state: running;
      }

      /* UIVERSE KEYFRAMES */
      @keyframes uiverse-spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      @keyframes uiverse-charAppear {
        0% { opacity: 0; transform: translateY(50%); }
        100% { opacity: 1; transform: translateY(0); }
      }
      @keyframes uiverse-resetArrow {
        0% { transform: scale(0); opacity: 0; }
        100% { transform: scale(0.9); opacity: 1; }
      }
      @keyframes uiverse-swingArrow {
        0%, 100% { transform: translateX(0) scale(0.9); }
        50% { transform: translateX(5px) scale(0.9); }
      }
      @keyframes uiverse-rotateArrowLine {
        0% { transform: rotate(44deg); }
        100% { transform: rotate(404deg); }
      }
      @keyframes uiverse-rotateArrowLine2 {
        0% { transform: rotate(316deg); }
        100% { transform: rotate(676deg); }
      }

      .uiverse-path {
        position: absolute;
        z-index: 12;
        bottom: 0;
        left: 0;
        right: 0;
        stroke-dasharray: 150 480;
        stroke-dashoffset: 150;
        pointer-events: none;
      }

      .uiverse-splash {
        position: absolute;
        top: 0;
        left: 0;
        pointer-events: none;
        stroke-dasharray: 60 60;
        stroke-dashoffset: 60;
        transform: translate(-17%, -31%);
        stroke: var(--c-300);
      }

      /* --- UPDATED CYCLE ANIMATION STYLES (Responsive & Small) --- */
      .cycle-wrapper {
        background: #0b0b0b;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        /* Adjusted height for responsiveness */
        min-height: 350px; 
        padding: 40px 0;
        position: relative;
        overflow: hidden;
      }

      .cycle-container {
        --animation-duration: 5s;
        --circle-bg-clr: #111;
        --ellipse-perimeter: 314;
        --line-length: 5;
        --line-dash: calc(var(--ellipse-perimeter) - var(--line-length));
        
        /* Responsive Widths */
        width: 90%;
        max-width: 450px; /* Made smaller as requested */
        aspect-ratio: 3/2; /* Keeps 1.5 ratio */
        
        position: relative;
        transform-origin: center;
      }

      .cycle-svg {
        width: 100%;
        height: 100%;
        display: block;
      }

      .cycle-oval {
        fill: none;
        stroke: #0ff2; /* Neon Cyan low opacity */
        stroke-width: .5;
      }

      .cycle-path-line {
        fill: none;
        stroke: #0ff; /* Neon Cyan */
        stroke-width: 1;
        stroke-linecap: round;
        stroke-dasharray: var(--line-length) var(--line-dash);
        stroke-dashoffset: 0;
        animation: cycleMoveLine var(--animation-duration) linear infinite;
      }

      @keyframes cycleMoveLine {
        0%,8%     { stroke-dashoffset: -12; }
        15%,23%   { stroke-dashoffset: -52; }
        33%,41%   { stroke-dashoffset: -110; }
        51%,59%   { stroke-dashoffset: -170; }
        67%,75%   { stroke-dashoffset: -210; }
        85%,93%   { stroke-dashoffset: -270; }
        100%      { stroke-dashoffset: -324; }
      }

      .cycle-circle {
        position: absolute;
        top: var(--circle-y);
        left: var(--circle-x);
        transform: translate(-50%, -50%); /* Use standard transform */
        
        /* Responsive Circle Size */
        width: 15%; /* Relative size */
        aspect-ratio: 1; /* Perfect square base */
        
        background-color: var(--circle-bg-clr);
        border: 2px solid #333;
        color: white;
        border-radius: 50%; /* Perfect Circle */
        
        /* Use calculated delay per circle */
        animation: cyclePulse var(--animation-duration) linear infinite;
        
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* Adjust positions to percentages */
      .cycle-circle:nth-of-type(1) { --circle-x: 30%; --circle-y: 15%; --stop-index: 0; }
      .cycle-circle:nth-of-type(2) { --circle-x: 70%; --circle-y: 15%; --stop-index: 1; }
      .cycle-circle:nth-of-type(3) { --circle-x: 99%; --circle-y: 50%; --stop-index: 2; }
      .cycle-circle:nth-of-type(4) { --circle-x: 70%; --circle-y: 85%; --stop-index: 3; }
      .cycle-circle:nth-of-type(5) { --circle-x: 30%; --circle-y: 85%; --stop-index: 4; }
      .cycle-circle:nth-of-type(6) { --circle-x: 1%; --circle-y: 50%; --stop-index: 5; }

      /* Calculate animation-delay */
      .cycle-circle {
        animation-delay: calc((var(--animation-duration) * var(--stop-index)  / 6) - 250ms);
      }
      
      .cycle-circle svg {
        width: 50%;
        height: 50%;
        transition-property: opacity, transform;
        transition-duration: 150ms;
        transition-timing-function: ease-in-out;
      }
      
      .cycle-circle.heart > svg { color: red; }
      .cycle-circle.battery > svg { color: green; }
      .cycle-circle.notes > svg { color: dodgerblue; }
      .cycle-circle.parcel > svg { color: yellow; }
      .cycle-circle.scooter > svg { color: orange; }
      .cycle-circle.security > svg { color: purple; }

      @keyframes cyclePulse {
        5%,13% { 
          transform: translate(-50%, -50%) scale(1.2); /* Keep centered scaling */
          border-color: #0ff;
          background-color: rgb(5, 51, 69);
          z-index: 20;
        } 
        
        5%, 13% svg {
            transform: scale(1.2); /* Icon scale */
        }
        
        15% { 
          transform: translate(-50%, -50%) scale(1);
          border-color: #333;
          background-color: var(--circle-bg-clr);
          z-index: 1;
        }
        
        15% svg {
            transform: scale(1);
        }
      }
      
      .cycle-dot {
         /* Placeholder if needed */
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.4",
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
    "react/": "https://esm.sh/react@^19.2.4/",
    "firebase/": "https://esm.sh/firebase@^12.9.0/",
    "react-router-dom": "https://esm.sh/react-router-dom@^7.13.0",
    "lucide-react": "https://esm.sh/lucide-react@^0.563.0",
    "recharts": "https://esm.sh/recharts@^3.7.0",
    "uuid": "https://esm.sh/uuid@^13.0.0",
    "jspdf": "https://esm.sh/jspdf@^4.1.0",
    "jspdf-autotable": "https://esm.sh/jspdf-autotable@^5.0.7",
    "vite": "https://esm.sh/vite@^7.3.1",
    "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@^5.1.4"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
    <script type="module" src="./index.tsx"></script>
  </body>
</html>